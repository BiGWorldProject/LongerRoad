BEGIN LRABAIA2

IF ~Global("AbaiaJonTalk","GLOBAL",1)~ THEN BEGIN LRAB14
   SAY @0
   IF ~~ THEN DO ~SetGlobal("AbaiaJonTalk","GLOBAL",2)~ EXTERN JONEL25J LRJON_ABAIA1
END

APPEND JONEL25J

IF ~~ THEN BEGIN JONAB1
   SAY @1
   IF ~~ THEN REPLY @2 DO ~IncrementGlobal("JonRedemptionCounter", "GLOBAL",1)~ GOTO JONAB2
   IF ~~ THEN REPLY @3 GOTO JONAB2
   IF ~~ THEN REPLY @4 DO ~IncrementGlobal("JonRedemptionCounter", "GLOBAL",-1)~ GOTO JONAB2
END

IF ~~ THEN BEGIN JONAB2
   SAY @5
   IF ~~ THEN REPLY @6 GOTO JONAB4
   IF ~~ THEN REPLY @7 GOTO JONAB3
END

IF ~~ THEN BEGIN JONAB3
   SAY @8 
   IF ~~ THEN DO ~IncrementGlobal("JonRedemptionCounter", "GLOBAL",-1000) SetGlobal("JonUndecided","GLOBAL",3)~ EXTERN LRABAIA2 LRAB15
END

IF ~~ THEN BEGIN JONAB4
   SAY @9
   IF ~~ THEN REPLY @10 GOTO JONAB5
   IF ~~ THEN REPLY @11 GOTO JONAB3
END

IF ~~ THEN BEGIN JONAB5
   SAY @12
   IF ~~ THEN DO ~IncrementGlobal("JonRedemptionCounter", "GLOBAL",5)~ EXTERN LRABAIA2 LRAB15
END
END

CHAIN JONEL25J LRJON_ABAIA1
@13
==LRABAIA2
@14
END JONEL25J JONAB1

CHAIN3 LRABAIA2 LRAB15
@15
DO ~SetDialogue("lrabaia")~
==JONEL25J
@16
EXIT

